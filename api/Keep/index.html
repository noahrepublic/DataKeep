<!doctype html>
<html lang="en" dir="ltr" class="plugin-moonwave plugin-id-moonwave">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Keep | DataKeep</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://noahrepublic.github.io/DataKeep/api/Keep"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Keep | DataKeep"><meta data-rh="true" name="description" content="Keep class holds the data for a specific key in a store, and methods to manipulate data"><meta data-rh="true" property="og:description" content="Keep class holds the data for a specific key in a store, and methods to manipulate data"><link data-rh="true" rel="canonical" href="https://noahrepublic.github.io/DataKeep/api/Keep"><link data-rh="true" rel="alternate" href="https://noahrepublic.github.io/DataKeep/api/Keep" hreflang="en"><link data-rh="true" rel="alternate" href="https://noahrepublic.github.io/DataKeep/api/Keep" hreflang="x-default"><link rel="stylesheet" href="/DataKeep/assets/css/styles.fdfd902f.css">
<link rel="preload" href="/DataKeep/assets/js/runtime~main.e601de97.js" as="script">
<link rel="preload" href="/DataKeep/assets/js/main.821d6102.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/DataKeep/"><b class="navbar__title text--truncate">DataKeep</b></a><a class="navbar__item navbar__link" href="/DataKeep/docs/intro">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/DataKeep/api/">API</a><a class="navbar__item navbar__link" href="/DataKeep/changelog">Changelog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/noahrepublic/DataKeep" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docPageContainer_wNNk"><div class="docPage_Dpn1"><div class="docSidebarContainer_o_re"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/DataKeep/api/Store">​Store</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/DataKeep/api/Keep">​Keep</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/DataKeep/api/GlobalUpdates">​Global​Updates</a></li></ul></nav></div></div><main class="docMainContainer_HJE1"><div class="container padding-vert--lg"><div class="row"><div class="col docItemCol_MU3C"><div class="docItemContainer_Wv98"><article><div class="member_J0w1 markdown"><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_oUs_"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><header><h1 class="docTitle_mZRt" style="text-decoration:none"><span style="display:inline-block">Keep</span></h1><div class="luaClassTags_EipM"><span class="badge_Ba2I" style="color:#00CC67"><span class="badgeTooltip_cWXP">This item only works when running on the server.</span><span class="badgeToolTipTail_H9D_"><svg fill="#00CC67" xmlns="http://www.w3.org/2000/svg" version="1.1" x="0px" y="0px" viewBox="0 0 90 90" role="img" aria-label="This item only works when running on the server."><polygon points="6.125,72.421 58.544,88.523 58.544,24.372 6.125,8.269 "></polygon><polygon points="79.818,15.77 79.868,15.755 29.615,1.453 10.328,6.318 60.102,21.609 "></polygon><path d="M61.643,78.738l22.232-6.582V17.801l-22.232,6.584V78.738z M73.811,69.257c-1.174,0-2.125-1.19-2.125-2.659  c0-1.468,0.951-2.658,2.125-2.658c1.172,0,2.123,1.19,2.123,2.658C75.934,68.066,74.982,69.257,73.811,69.257z M64.898,32.121  l16.336-4.41v7.117l-16.336,4.409V32.121z M64.898,41.292l16.336-4.41v7.116l-16.336,4.409V41.292z M64.898,50.463l16.336-4.411  v7.116l-16.336,4.411V50.463z"></path><polygon points="83.875,74.893 61.643,81.477 61.643,88.547 83.875,81.963 "></polygon></svg> <!-- -->Server</span></span></div><div>
<p>Keep class holds the data for a specific key in a store, and methods to manipulate data</p>
</div></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="types">Types<a href="#types" class="hash-link" aria-label="Direct link to Types" title="Direct link to Types">​</a></h2><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Session"><code style="text-decoration:none">Session</code><a href="#Session" class="hash-link" aria-label="Direct link to Session" title="Direct link to Session">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/noahrepublic/DataKeep/blob/main/src/Keep.lua#L41"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code class="purple_ieR2">type</code> <code>Session<!-- --> = </code> <code class="purple_ieR2">{</code><div class="inset_uKQm"><code>PlaceID<!-- -->: </code><code class="blue_P4bS">number</code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>JobID<!-- -->: </code><code class="blue_P4bS">string</code></div><code class="purple_ieR2">}</code></div><div></div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="MetaData"><code style="text-decoration:none">MetaData</code><a href="#MetaData" class="hash-link" aria-label="Direct link to MetaData" title="Direct link to MetaData">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/noahrepublic/DataKeep/blob/main/src/Keep.lua#L51"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code class="purple_ieR2">type</code> <code>MetaData<!-- --> = </code> <code class="purple_ieR2">{</code><div class="inset_uKQm"><code>ActiveSession<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DataKeep/api/Keep#Session">Session?</a></code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>ForceLoad<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DataKeep/api/Keep#Session">Session?</a></code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>LastUpdate<!-- -->: </code><code class="blue_P4bS">number</code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>Created<!-- -->: </code><code class="blue_P4bS">number</code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>LoadCount<!-- -->: </code><code class="blue_P4bS">number</code></div><code class="purple_ieR2">}</code></div><div></div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="GlobalUpdateData"><code style="text-decoration:none">GlobalUpdateData</code><a href="#GlobalUpdateData" class="hash-link" aria-label="Direct link to GlobalUpdateData" title="Direct link to GlobalUpdateData">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/noahrepublic/DataKeep/blob/main/src/Keep.lua#L69"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code class="purple_ieR2">type</code> <code>GlobalUpdateData<!-- --> = </code> <code class="purple_ieR2">{</code><span><code>[</code><code class="blue_P4bS">any</code><code>]</code></span><code>: </code><code class="blue_P4bS">any</code><code class="purple_ieR2">}</code></div><div></div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="GlobalUpdate"><code style="text-decoration:none">GlobalUpdate</code><a href="#GlobalUpdate" class="hash-link" aria-label="Direct link to GlobalUpdate" title="Direct link to GlobalUpdate">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/noahrepublic/DataKeep/blob/main/src/Keep.lua#L76"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code class="purple_ieR2">type</code> <code>GlobalUpdate<!-- --> = </code> <code class="purple_ieR2">{</code><div class="inset_uKQm"><code>ID<!-- -->: </code><code class="blue_P4bS">number</code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>Locked<!-- -->: </code><code class="blue_P4bS">boolean</code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>Data<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DataKeep/api/Keep#GlobalUpdateData">GlobalUpdateData</a></code></div><code class="purple_ieR2">}</code></div><div></div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="GlobalUpdates"><code style="text-decoration:none">GlobalUpdates</code><a href="#GlobalUpdates" class="hash-link" aria-label="Direct link to GlobalUpdates" title="Direct link to GlobalUpdates">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/noahrepublic/DataKeep/blob/main/src/Keep.lua#L89"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code class="purple_ieR2">type</code> <code>GlobalUpdates<!-- --> = </code> <code class="purple_ieR2">{</code><div class="inset_uKQm"><code>ID<!-- -->: </code><code class="blue_P4bS">number</code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>Updates<!-- -->: </code><code class="green_DgR4">{</code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DataKeep/api/Keep#GlobalUpdate">GlobalUpdate</a></code><code class="green_DgR4">}</code></div><code class="purple_ieR2">}</code></div><div>
<p><code>ID</code> is the most recent update index</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Keep"><code style="text-decoration:none">Keep</code><a href="#Keep" class="hash-link" aria-label="Direct link to Keep" title="Direct link to Keep">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/noahrepublic/DataKeep/blob/main/src/Keep.lua#L296"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code class="purple_ieR2">type</code> <code>Keep<!-- --> = </code> <code class="purple_ieR2">{</code><div class="inset_uKQm"><code>Data<!-- -->: </code><code class="green_DgR4">{</code><code class="green_DgR4">}</code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>MetaData<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DataKeep/api/Keep#MetaData">MetaData</a></code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>GlobalUpdates<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DataKeep/api/Keep#GlobalUpdates">GlobalUpdates</a></code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>UserIds<!-- -->: </code><code class="green_DgR4">{</code><code class="blue_P4bS">number</code><code class="green_DgR4">}</code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>OnGlobalUpdate<!-- -->: </code><code class="blue_P4bS">Signal</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DataKeep/api/Keep#GlobalUpdateData">GlobalUpdateData</a></code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code class="blue_P4bS">number</code><code class="op_lSLc">&gt;</code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>GlobalStateProcessor<!-- -->: </code><code class="green_DgR4">(</code><div class="inset_uKQm"><code>update<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DataKeep/api/Keep#GlobalUpdateData">GlobalUpdateData</a></code><code class="green_DgR4">,</code></div><div class="inset_uKQm"><code>lock<!-- -->: </code><code class="yellow_QJap">(</code><code class="yellow_QJap">)</code><code class="yellow_QJap"> → </code><code class="blue_P4bS">boolean</code><code class="green_DgR4">,</code></div><div class="inset_uKQm"><code>remove<!-- -->: </code><code class="yellow_QJap">(</code><code class="yellow_QJap">)</code><code class="yellow_QJap"> → </code><code class="blue_P4bS">boolean</code></div><code class="green_DgR4">)</code><code class="green_DgR4"> → </code><code class="green_DgR4">(</code><code class="green_DgR4">)</code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>Releasing<!-- -->: </code><code class="blue_P4bS">Signal</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">Promise</code><code class="op_lSLc">&gt;</code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>Saving<!-- -->: </code><code class="blue_P4bS">Signal</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">Promise</code><code class="op_lSLc">&gt;</code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>Overwritten<!-- -->: </code><code class="blue_P4bS">Signal</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">boolean</code><code class="op_lSLc">&gt;</code></div><code class="purple_ieR2">}</code></div><div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="properties">Properties<a href="#properties" class="hash-link" aria-label="Direct link to Properties" title="Direct link to Properties">​</a></h2><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="GlobalStateProcessor"><code style="text-decoration:none">GlobalStateProcessor</code><a href="#GlobalStateProcessor" class="hash-link" aria-label="Direct link to GlobalStateProcessor" title="Direct link to GlobalStateProcessor">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/noahrepublic/DataKeep/blob/main/src/Keep.lua#L177"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Keep<!-- -->.<!-- -->GlobalStateProcessor<!-- -->:<!-- --> </code> <code class="purple_ieR2">(</code><div class="inset_uKQm"><code>updateData<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DataKeep/api/Keep#GlobalUpdateData">GlobalUpdateData</a></code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>lock<!-- -->: </code><code class="green_DgR4">(</code><code class="green_DgR4">)</code><code class="green_DgR4"> → </code><code class="blue_P4bS">boolean</code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>remove<!-- -->: </code><code class="green_DgR4">(</code><code class="green_DgR4">)</code><code class="green_DgR4"> → </code><code class="blue_P4bS">boolean</code></div><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="purple_ieR2">(</code><code class="purple_ieR2">)</code></div><div>
<p>Define how to process global updates, by default just locks the global update (this is only ran if the keep is online)</p>
<p>The function reveals the lock and remove global update function through the parameters.</p>
<div class="admonition admonition-caution alert alert--warning">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
          <path d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path>
        </svg></span>caution</h5>
  </div>
  <div class="admonition-content">
    <p>Updates <strong>must</strong> be locked eventually in order for <a href="#OnGlobalUpdate">.OnGlobalUpdate</a> to get fired</p>
  </div>
</div>
<div class="admonition admonition-warning alert alert--danger">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16">
          <path d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path>
        </svg></span>warning</h5>
  </div>
  <div class="admonition-content">
    <p>The lock and remove function revealed here are <strong>NOT</strong> the same as the ones in the Keep class, they are only for this function.</p>
  </div>
</div>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="OnGlobalUpdate"><code style="text-decoration:none">OnGlobalUpdate</code><a href="#OnGlobalUpdate" class="hash-link" aria-label="Direct link to OnGlobalUpdate" title="Direct link to OnGlobalUpdate">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/noahrepublic/DataKeep/blob/main/src/Keep.lua#L188"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Keep<!-- -->.<!-- -->OnGlobalUpdate<!-- -->:<!-- --> </code> <code class="blue_P4bS">Signal</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DataKeep/api/Keep#GlobalUpdateData">GlobalUpdateData,</a></code><code class="blue_P4bS">number</code><code class="op_lSLc">&gt;</code></div><div>
<p>Fired when a new global update is locked and ready to be processed</p>
<div class="admonition admonition-caution alert alert--warning">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
          <path d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path>
        </svg></span>caution</h5>
  </div>
  <div class="admonition-content">
    <p><strong>ONLY</strong> locked globals are fired</p>
  </div>
</div>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Releasing"><code style="text-decoration:none">Releasing</code><a href="#Releasing" class="hash-link" aria-label="Direct link to Releasing" title="Direct link to Releasing">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/noahrepublic/DataKeep/blob/main/src/Keep.lua#L207"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Keep<!-- -->.<!-- -->Releasing<!-- -->:<!-- --> </code> <code class="blue_P4bS">Signal</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">Promise</code><code class="op_lSLc">&gt;</code></div><div>
<p>Fired when the keep is releasing (fires before internally released, but during session release)</p>
<pre class="language-lua"><code class="language-lua">keep<span class="token punctuation">.</span>Releasing<span class="token punctuation">:</span><span class="token function">Connect</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span>
	<span class="token function">print</span><span class="token punctuation">(</span>`<span class="token function">Releasing</span> <span class="token punctuation">{</span>keep<span class="token punctuation">:</span><span class="token function">Identify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>`<span class="token punctuation">)</span>

	state<span class="token punctuation">:</span><span class="token function">andThen</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token function">print</span><span class="token punctuation">(</span>`<span class="token function">Released</span> <span class="token punctuation">{</span>keep<span class="token punctuation">:</span><span class="token function">Identify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>`<span class="token punctuation">)</span>
	<span class="token keyword">end</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token function">print</span><span class="token punctuation">(</span>`Failed to <span class="token function">release</span> <span class="token punctuation">{</span>keep<span class="token punctuation">:</span><span class="token function">Identify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>`<span class="token punctuation">)</span>
	<span class="token keyword">end</span><span class="token punctuation">)</span>
<span class="token keyword">end</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Saving"><code style="text-decoration:none">Saving</code><a href="#Saving" class="hash-link" aria-label="Direct link to Saving" title="Direct link to Saving">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/noahrepublic/DataKeep/blob/main/src/Keep.lua#L226"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Keep<!-- -->.<!-- -->Saving<!-- -->:<!-- --> </code> <code class="blue_P4bS">Signal</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">Promise</code><code class="op_lSLc">&gt;</code></div><div>
<p>Fired when the keep is saving, resolves on complete</p>
<pre class="language-lua"><code class="language-lua">keep<span class="token punctuation">.</span>Saving<span class="token punctuation">:</span><span class="token function">Connect</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span>
	<span class="token function">print</span><span class="token punctuation">(</span>`<span class="token function">Saving</span> <span class="token punctuation">{</span>keep<span class="token punctuation">:</span><span class="token function">Identify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>`<span class="token punctuation">)</span>

	state<span class="token punctuation">:</span><span class="token function">andThen</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token function">print</span><span class="token punctuation">(</span>`<span class="token function">Saved</span> <span class="token punctuation">{</span>keep<span class="token punctuation">:</span><span class="token function">Identify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>`<span class="token punctuation">)</span>
	<span class="token keyword">end</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token function">print</span><span class="token punctuation">(</span>`Failed to <span class="token function">save</span> <span class="token punctuation">{</span>keep<span class="token punctuation">:</span><span class="token function">Identify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>`<span class="token punctuation">)</span>
	<span class="token keyword">end</span><span class="token punctuation">)</span>
<span class="token keyword">end</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Overwritten"><code style="text-decoration:none">Overwritten</code><a href="#Overwritten" class="hash-link" aria-label="Direct link to Overwritten" title="Direct link to Overwritten">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/noahrepublic/DataKeep/blob/main/src/Keep.lua#L239"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Keep<!-- -->.<!-- -->Overwritten<!-- -->:<!-- --> </code> <code class="blue_P4bS">Signal</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">boolean</code><code class="op_lSLc">&gt;</code></div><div>
<p>Fired when the keep has been overwritten. Keep will be released if <code>isReleasingSession</code> is true</p>
<pre class="language-lua"><code class="language-lua">keep<span class="token punctuation">.</span>Overwritten<span class="token punctuation">:</span><span class="token function">Connect</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>isReleasingSession<span class="token punctuation">)</span>
	<span class="token function">print</span><span class="token punctuation">(</span>`<span class="token punctuation">{</span>keep<span class="token punctuation">:</span><span class="token function">Identify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span> has been overwritten<span class="token punctuation">.</span> Is releasing session<span class="token punctuation">:</span> <span class="token punctuation">{</span>isReleasingSession<span class="token punctuation">}</span>`<span class="token punctuation">)</span>
<span class="token keyword">end</span><span class="token punctuation">)</span>
</code></pre>
</div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="functions">Functions<a href="#functions" class="hash-link" aria-label="Direct link to Functions" title="Direct link to Functions">​</a></h2><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Save"><code style="text-decoration:none">Save</code><a href="#Save" class="hash-link" aria-label="Direct link to Save" title="Direct link to Save">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/noahrepublic/DataKeep/blob/main/src/Keep.lua#L750"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Keep<!-- -->:</code><code class="green_DgR4">Save</code><code>(</code><code>) → </code><code class="blue_P4bS">Promise</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DataKeep/api/Keep#Keep">Keep</a></code><code class="op_lSLc">&gt;</code></div><div>
<p>Manually Saves a Keep. Commonly useful for speeding up global updates</p>
<div class="admonition admonition-caution alert alert--warning">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
          <path d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path>
        </svg></span>caution</h5>
  </div>
  <div class="admonition-content">
    <p>Calling <code>:Save()</code> manually will reset the auto save timer on the Keep</p>
  </div>
</div>
<div class="admonition admonition-warning alert alert--danger">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16">
          <path d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path>
        </svg></span>warning</h5>
  </div>
  <div class="admonition-content">
    <p>Using <code>:Save()</code> on a <strong>view only keep</strong> will error. Use <a href="#Overwrite">:Overwrite()</a> instead</p>
  </div>
</div>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Overwrite"><code style="text-decoration:none">Overwrite</code><a href="#Overwrite" class="hash-link" aria-label="Direct link to Overwrite" title="Direct link to Overwrite">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/noahrepublic/DataKeep/blob/main/src/Keep.lua#L806"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Keep<!-- -->:</code><code class="green_DgR4">Overwrite</code><code>(</code><code>releaseExistingSession<!-- -->: </code><code class="blue_P4bS">boolean?</code><code>) → </code><code class="blue_P4bS">Promise</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DataKeep/api/Keep#Keep">Keep</a></code><code class="op_lSLc">&gt;</code></div><div>
<p>Used to overwrite on a view only keep.</p>
<p><code>releaseExistingSession</code> controls the behavior of the server with the active session lock, defaults to true</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="IsActive"><code style="text-decoration:none">IsActive</code><a href="#IsActive" class="hash-link" aria-label="Direct link to IsActive" title="Direct link to IsActive">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/noahrepublic/DataKeep/blob/main/src/Keep.lua#L851"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Keep<!-- -->:</code><code class="green_DgR4">IsActive</code><code>(</code><code>) → </code><code class="blue_P4bS">boolean</code></div><div>
<p>Returns <code>true</code> if the Keep is active in the session (not locked by another server)</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Identify"><code style="text-decoration:none">Identify</code><a href="#Identify" class="hash-link" aria-label="Direct link to Identify" title="Direct link to Identify">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/noahrepublic/DataKeep/blob/main/src/Keep.lua#L864"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Keep<!-- -->:</code><code class="green_DgR4">Identify</code><code>(</code><code>) → </code><code class="blue_P4bS">string</code></div><div>
<p>Returns the string identifier for the Keep</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="GetKeyInfo"><code style="text-decoration:none">GetKeyInfo</code><a href="#GetKeyInfo" class="hash-link" aria-label="Direct link to GetKeyInfo" title="Direct link to GetKeyInfo">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/noahrepublic/DataKeep/blob/main/src/Keep.lua#L877"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Keep<!-- -->:</code><code class="green_DgR4">GetKeyInfo</code><code>(</code><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="https://developer.roblox.com/en-us/api-reference/class/DataStoreKeyInfo" target="_blank" rel="noopener noreferrer">DataStoreKeyInfo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound" style="color:gray;vertical-align:middle;margin-left:2px"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></code></div><div>
<p>Returns the <code>DataStoreKeyInfo</code> for the Keep</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Release"><code style="text-decoration:none">Release</code><a href="#Release" class="hash-link" aria-label="Direct link to Release" title="Direct link to Release">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/noahrepublic/DataKeep/blob/main/src/Keep.lua#L894"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Keep<!-- -->:</code><code class="green_DgR4">Release</code><code>(</code><code>) → </code><code class="blue_P4bS">Promise</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DataKeep/api/Keep#Keep">Keep</a></code><code class="op_lSLc">&gt;</code></div><div>
<p>Releases the session lock to allow other servers to access the Keep</p>
<div class="admonition admonition-warning alert alert--danger">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16">
          <path d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path>
        </svg></span>warning</h5>
  </div>
  <div class="admonition-content">
    <p>This is called before internal release, but after session release, no edits can be made after this point</p>
  </div>
</div>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Reconcile"><code style="text-decoration:none">Reconcile</code><a href="#Reconcile" class="hash-link" aria-label="Direct link to Reconcile" title="Direct link to Reconcile">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/noahrepublic/DataKeep/blob/main/src/Keep.lua#L941"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Keep<!-- -->:</code><code class="green_DgR4">Reconcile</code><code>(</code><code>) → </code><code>(</code><code>)</code></div><div>
<p>Fills in any missing data in the Keep, using the data template</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="AddUserId"><code style="text-decoration:none">AddUserId</code><a href="#AddUserId" class="hash-link" aria-label="Direct link to AddUserId" title="Direct link to AddUserId">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/noahrepublic/DataKeep/blob/main/src/Keep.lua#L971"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Keep<!-- -->:</code><code class="green_DgR4">AddUserId</code><code>(</code><code>userId<!-- -->: </code><code class="blue_P4bS">number</code><code>) → </code><code>(</code><code>)</code></div><div>
<p>Associates a <code>userId</code> to a datastore to assist with GDPR requests (The right to erasure)</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="RemoveUserId"><code style="text-decoration:none">RemoveUserId</code><a href="#RemoveUserId" class="hash-link" aria-label="Direct link to RemoveUserId" title="Direct link to RemoveUserId">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/noahrepublic/DataKeep/blob/main/src/Keep.lua#L992"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Keep<!-- -->:</code><code class="green_DgR4">RemoveUserId</code><code>(</code><code>userId<!-- -->: </code><code class="blue_P4bS">number</code><code>) → </code><code>(</code><code>)</code></div><div>
<p>Unassociates a <code>userId</code> from a datastore</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="GetVersions"><code style="text-decoration:none">GetVersions</code><a href="#GetVersions" class="hash-link" aria-label="Direct link to GetVersions" title="Direct link to GetVersions">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/noahrepublic/DataKeep/blob/main/src/Keep.lua#L1052"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Keep<!-- -->:</code><code class="green_DgR4">GetVersions</code><code>(</code><div class="inset_uKQm"><div><code>minDate<!-- -->: </code><code class="blue_P4bS">number?</code><code>,</code></div><div><code>maxDate<!-- -->: </code><code class="blue_P4bS">number?</code></div></div><code>) → </code><code class="blue_P4bS">Promise</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DataKeep/api/Keep#Iterator">Iterator</a></code><code class="op_lSLc">&gt;</code></div><h3>Types</h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Iterator"><a href="#Iterator" class="hash-link" aria-label="Direct link to Iterator" title="Direct link to Iterator">​</a></h3><div class="memberString_GwaU"><code class="purple_ieR2">interface</code> <code>Iterator<!-- --> <!-- -->{</code><div class="inset_uKQm"><div><code>Current<!-- -->: </code><code class="purple_ieR2">(</code><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="blue_P4bS">version?</code><span class="inlineDescription_G7Er">-- <span>
<p>Returns the current version, nil if none</p>
</span></span></div><div><code>Next<!-- -->: </code><code class="purple_ieR2">(</code><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="blue_P4bS">version?</code><span class="inlineDescription_G7Er">-- <span>
<p>Returns the next version, nil if none</p>
</span></span></div><div><code>Previous<!-- -->: </code><code class="purple_ieR2">(</code><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="blue_P4bS">version?</code><span class="inlineDescription_G7Er">-- <span>
<p>Returns the previous version, nil if none</p>
</span></span></div><div><code>PageUp<!-- -->: </code><code class="purple_ieR2">(</code><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="purple_ieR2">(</code><code class="purple_ieR2">)</code><span class="inlineDescription_G7Er">-- <span>
<p>Goes to the next page of versions</p>
</span></span></div><div><code>PageDown<!-- -->: </code><code class="purple_ieR2">(</code><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="purple_ieR2">(</code><code class="purple_ieR2">)</code><span class="inlineDescription_G7Er">-- <span>
<p>Goes to the previous page of versions</p>
</span></span></div><div><code>SkipEnd<!-- -->: </code><code class="purple_ieR2">(</code><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="purple_ieR2">(</code><code class="purple_ieR2">)</code><span class="inlineDescription_G7Er">-- <span>
<p>Goes to the last page of versions</p>
</span></span></div><div><code>SkipStart<!-- -->: </code><code class="purple_ieR2">(</code><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="purple_ieR2">(</code><code class="purple_ieR2">)</code><span class="inlineDescription_G7Er">-- <span>
<p>Goes to the first page of versions</p>
</span></span></div></div><code>}</code></div><div></div><div>
<p>Grabs past versions of the Keep and returns an iterator to customize how to handle the versions</p>
<p>"I lost my progress! Last time I had 200 gems!"</p>
<pre class="language-lua"><code class="language-lua">keep<span class="token punctuation">:</span><span class="token function">GetVersions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token function">andThen</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>iterator<span class="token punctuation">)</span>
	<span class="token keyword">local</span> version <span class="token operator">=</span> iterator<span class="token punctuation">.</span><span class="token function">Current</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	<span class="token keyword">while</span> version <span class="token keyword">do</span>
		<span class="token keyword">local</span> data <span class="token operator">=</span> keepStore<span class="token punctuation">:</span><span class="token function">ViewKeep</span><span class="token punctuation">(</span>player<span class="token punctuation">.</span>UserId<span class="token punctuation">,</span> version<span class="token punctuation">.</span>Version<span class="token punctuation">)</span><span class="token punctuation">.</span>Data

		<span class="token keyword">if</span> data<span class="token punctuation">.</span>Gems <span class="token operator">>=</span> <span class="token number">200</span> <span class="token keyword">then</span>
			<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Found the version with 200 gems!"</span><span class="token punctuation">)</span>
			<span class="token keyword">break</span>
		<span class="token keyword">end</span>

		version <span class="token operator">=</span> iterator<span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">end</span>
<span class="token keyword">end</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="SetVersion"><code style="text-decoration:none">SetVersion</code><a href="#SetVersion" class="hash-link" aria-label="Direct link to SetVersion" title="Direct link to SetVersion">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/noahrepublic/DataKeep/blob/main/src/Keep.lua#L1189"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Keep<!-- -->:</code><code class="green_DgR4">SetVersion</code><code>(</code><div class="inset_uKQm"><div><code>version<!-- -->: </code><code class="blue_P4bS">string</code><code>,</code></div><div><code>migrateProcessor<!-- -->: </code><code class="purple_ieR2">(</code><code class="green_DgR4">(</code><code>versionKeep<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DataKeep/api/Keep#Keep">Keep</a></code><code class="green_DgR4">)</code><code class="green_DgR4"> → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DataKeep/api/Keep#Keep">Keep</a></code><code class="purple_ieR2">)</code><code class="blue_P4bS">?</code></div></div><code>) → </code><code class="blue_P4bS">Promise</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/DataKeep/api/Keep#Keep">Keep</a></code><code class="op_lSLc">&gt;</code></div><div>
<p>Allows for a manual versioning process, where the version is set and the data is migrated to the new version using the optional <code>migrateProcessor</code> function</p>
<p>DataKeep provides a version list iterator. See <em>GetVersions</em></p>
<p>Returns a Promise that resolves to the old keep (before the migration) This is the <strong>last</strong> time the old keep's GlobalUpdates will be accessible before <strong>permanently</strong> being removed</p>
<div class="admonition admonition-warning alert alert--danger">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16">
          <path d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path>
        </svg></span>warning</h5>
  </div>
  <div class="admonition-content">
    <p>Will not save until the next loop unless otherwise called using <a href="#Save">:Save()</a> or <a href="#Overwrite">:Overwrite()</a> for view only Keeps</p>
  </div>
</div>
<div class="admonition admonition-caution alert alert--warning">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
          <path d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path>
        </svg></span>caution</h5>
  </div>
  <div class="admonition-content">
    <p>Any global updates not taken care of in <code>migrateProcessor</code> will be lost</p>
  </div>
</div>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="GetActiveGlobalUpdates"><code style="text-decoration:none">GetActiveGlobalUpdates</code><a href="#GetActiveGlobalUpdates" class="hash-link" aria-label="Direct link to GetActiveGlobalUpdates" title="Direct link to GetActiveGlobalUpdates">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/noahrepublic/DataKeep/blob/main/src/Keep.lua#L1241"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Keep<!-- -->:</code><code class="green_DgR4">GetActiveGlobalUpdates</code><code>(</code><code>) → </code><code class="purple_ieR2">{</code><code class="blue_P4bS">Array</code><code class="op_lSLc">&lt;</code><code class="green_DgR4">{</code><div class="inset_uKQm"><code>Data<!-- -->: </code><code class="yellow_QJap">{</code><code class="yellow_QJap">}</code><code class="green_DgR4">,</code></div><div class="inset_uKQm"><code>ID<!-- -->: </code><code class="blue_P4bS">number</code></div><code class="green_DgR4">}</code><code class="op_lSLc">&gt;</code><code class="purple_ieR2">}</code></div><div>
<p>Returns an array of active global updates (not locked/processed)</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="GetLockedGlobalUpdates"><code style="text-decoration:none">GetLockedGlobalUpdates</code><a href="#GetLockedGlobalUpdates" class="hash-link" aria-label="Direct link to GetLockedGlobalUpdates" title="Direct link to GetLockedGlobalUpdates">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/noahrepublic/DataKeep/blob/main/src/Keep.lua#L1266"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Keep<!-- -->:</code><code class="green_DgR4">GetLockedGlobalUpdates</code><code>(</code><code>) → </code><code class="purple_ieR2">{</code><code class="blue_P4bS">Array</code><code class="op_lSLc">&lt;</code><code class="green_DgR4">{</code><div class="inset_uKQm"><code>Data<!-- -->: </code><code class="yellow_QJap">{</code><code class="yellow_QJap">}</code><code class="green_DgR4">,</code></div><div class="inset_uKQm"><code>ID<!-- -->: </code><code class="blue_P4bS">number</code></div><code class="green_DgR4">}</code><code class="op_lSLc">&gt;</code><code class="purple_ieR2">}</code></div><div>
<p>Returns an array of locked global updates (processed)</p>
<div class="admonition admonition-caution alert alert--warning">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
          <path d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path>
        </svg></span>caution</h5>
  </div>
  <div class="admonition-content">
    <p>Lock updates can <strong>not</strong> be changed, only cleared after done being used.</p>
  </div>
</div>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ClearLockedUpdate"><code style="text-decoration:none">ClearLockedUpdate</code><a href="#ClearLockedUpdate" class="hash-link" aria-label="Direct link to ClearLockedUpdate" title="Direct link to ClearLockedUpdate">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/noahrepublic/DataKeep/blob/main/src/Keep.lua#L1293"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Keep<!-- -->:</code><code class="green_DgR4">ClearLockedUpdate</code><code>(</code><code>id<!-- -->: </code><code class="blue_P4bS">number</code><code>) → </code><code class="blue_P4bS">Promise</code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">void</code><code class="op_lSLc">&gt;</code></div><div>
<p>Clears a locked global update after being used</p>
<div class="admonition admonition-warning alert alert--danger">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16">
          <path d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path>
        </svg></span>warning</h5>
  </div>
  <div class="admonition-content">
    <p>Passing an <strong>active</strong> global update id will throw an error &#x26; reject the Promise.</p>
  </div>
</div>
</div></div></article></div><details><summary>Show raw api</summary><pre style="max-width:100%;white-space:pre-wrap">{
    &quot;functions&quot;: [
        {
            &quot;name&quot;: &quot;Save&quot;,
            &quot;desc&quot;: &quot;Manually Saves a Keep. Commonly useful for speeding up global updates\n\n:::caution\nCalling ```:Save()``` manually will reset the auto save timer on the Keep\n:::caution\n\n:::warning\nUsing ```:Save()``` on a **view only keep** will error. Use [:Overwrite()](#Overwrite) instead\n:::warning&quot;,
            &quot;params&quot;: [],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&lt;Keep&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 750,
                &quot;path&quot;: &quot;src/Keep.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Overwrite&quot;,
            &quot;desc&quot;: &quot;Used to overwrite on a view only keep.\n\n```releaseExistingSession``` controls the behavior of the server with the active session lock, defaults to true&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;releaseExistingSession&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;boolean?&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&lt;Keep&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 806,
                &quot;path&quot;: &quot;src/Keep.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;IsActive&quot;,
            &quot;desc&quot;: &quot;Returns ```true``` if the Keep is active in the session (not locked by another server)&quot;,
            &quot;params&quot;: [],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;boolean&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 851,
                &quot;path&quot;: &quot;src/Keep.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Identify&quot;,
            &quot;desc&quot;: &quot;Returns the string identifier for the Keep&quot;,
            &quot;params&quot;: [],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;string&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 864,
                &quot;path&quot;: &quot;src/Keep.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;GetKeyInfo&quot;,
            &quot;desc&quot;: &quot;Returns the ```DataStoreKeyInfo``` for the Keep&quot;,
            &quot;params&quot;: [],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;DataStoreKeyInfo&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 877,
                &quot;path&quot;: &quot;src/Keep.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Release&quot;,
            &quot;desc&quot;: &quot;Releases the session lock to allow other servers to access the Keep\n\n:::warning\nThis is called before internal release, but after session release, no edits can be made after this point\n:::warning&quot;,
            &quot;params&quot;: [],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&lt;Keep&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 894,
                &quot;path&quot;: &quot;src/Keep.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Reconcile&quot;,
            &quot;desc&quot;: &quot;Fills in any missing data in the Keep, using the data template&quot;,
            &quot;params&quot;: [],
            &quot;returns&quot;: [],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 941,
                &quot;path&quot;: &quot;src/Keep.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;AddUserId&quot;,
            &quot;desc&quot;: &quot;Associates a ```userId``` to a datastore to assist with GDPR requests (The right to erasure)&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;userId&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;number&quot;
                }
            ],
            &quot;returns&quot;: [],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 971,
                &quot;path&quot;: &quot;src/Keep.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;RemoveUserId&quot;,
            &quot;desc&quot;: &quot;Unassociates a ```userId``` from a datastore&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;userId&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;number&quot;
                }
            ],
            &quot;returns&quot;: [],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 992,
                &quot;path&quot;: &quot;src/Keep.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;GetVersions&quot;,
            &quot;desc&quot;: &quot;Grabs past versions of the Keep and returns an iterator to customize how to handle the versions\n\n\&quot;I lost my progress! Last time I had 200 gems!\&quot;\n\n```lua\nkeep:GetVersions():andThen(function(iterator)\n\tlocal version = iterator.Current()\n\n\twhile version do\n\t\tlocal data = keepStore:ViewKeep(player.UserId, version.Version).Data\n\n\t\tif data.Gems &gt;= 200 then\n\t\t\tprint(\&quot;Found the version with 200 gems!\&quot;)\n\t\t\tbreak\n\t\tend\n\n\t\tversion = iterator.Next()\n\tend\nend)\n```&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;minDate&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;number?&quot;
                },
                {
                    &quot;name&quot;: &quot;maxDate&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;number?&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&lt;Iterator&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 1052,
                &quot;path&quot;: &quot;src/Keep.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;SetVersion&quot;,
            &quot;desc&quot;: &quot;Allows for a manual versioning process, where the version is set and the data is migrated to the new version using the optional ```migrateProcessor``` function\n\nDataKeep provides a version list iterator. See *GetVersions*\n\nReturns a Promise that resolves to the old keep (before the migration) This is the **last** time the old keep&#x27;s GlobalUpdates will be accessible before **permanently** being removed\n\n:::warning\nWill not save until the next loop unless otherwise called using [:Save()](#Save) or [:Overwrite()](#Overwrite) for view only Keeps\n:::warning\n\n:::caution\nAny global updates not taken care of in ```migrateProcessor``` will be lost\n:::caution&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;version&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;string&quot;
                },
                {
                    &quot;name&quot;: &quot;migrateProcessor&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;((versionKeep: Keep) -&gt; Keep)?&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&lt;Keep&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 1189,
                &quot;path&quot;: &quot;src/Keep.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;GetActiveGlobalUpdates&quot;,
            &quot;desc&quot;: &quot;Returns an array of active global updates (not locked/processed)&quot;,
            &quot;params&quot;: [],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;{Array&lt;{ Data: {}, ID: number }&gt;}&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 1241,
                &quot;path&quot;: &quot;src/Keep.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;GetLockedGlobalUpdates&quot;,
            &quot;desc&quot;: &quot;Returns an array of locked global updates (processed)\n\n:::caution\nLock updates can **not** be changed, only cleared after done being used.\n:::caution&quot;,
            &quot;params&quot;: [],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;{Array&lt;{ Data: {}, ID: number }&gt;}&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 1266,
                &quot;path&quot;: &quot;src/Keep.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;ClearLockedUpdate&quot;,
            &quot;desc&quot;: &quot;Clears a locked global update after being used\n\n:::warning\nPassing an **active** global update id will throw an error &amp; reject the Promise.\n:::warning&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;id&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;number&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&lt;void&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 1293,
                &quot;path&quot;: &quot;src/Keep.lua&quot;
            }
        }
    ],
    &quot;properties&quot;: [
        {
            &quot;name&quot;: &quot;GlobalStateProcessor&quot;,
            &quot;desc&quot;: &quot;Define how to process global updates, by default just locks the global update (this is only ran if the keep is online)\n\nThe function reveals the lock and remove global update function through the parameters.\n\n:::caution\nUpdates **must** be locked eventually in order for [.OnGlobalUpdate](#OnGlobalUpdate) to get fired\n:::caution\n\n:::warning\nThe lock and remove function revealed here are **NOT** the same as the ones in the Keep class, they are only for this function.\n:::warning&quot;,
            &quot;lua_type&quot;: &quot;(updateData: GlobalUpdateData, lock: () -&gt; boolean, remove: () -&gt; boolean) -&gt; ()&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 177,
                &quot;path&quot;: &quot;src/Keep.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;OnGlobalUpdate&quot;,
            &quot;desc&quot;: &quot;Fired when a new global update is locked and ready to be processed\n\n:::caution\n**ONLY** locked globals are fired\n:::caution&quot;,
            &quot;lua_type&quot;: &quot;Signal&lt;GlobalUpdateData, number&gt;&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 188,
                &quot;path&quot;: &quot;src/Keep.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Releasing&quot;,
            &quot;desc&quot;: &quot;Fired when the keep is releasing (fires before internally released, but during session release)\n\n```lua\nkeep.Releasing:Connect(function(state)\n\tprint(`Releasing {keep:Identify()}`)\n\n\tstate:andThen(function()\n\t\tprint(`Released {keep:Identify()}`)\n\tend, function()\n\t\tprint(`Failed to release {keep:Identify()}`)\n\tend)\nend)\n```&quot;,
            &quot;lua_type&quot;: &quot;Signal&lt;Promise&gt;&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 207,
                &quot;path&quot;: &quot;src/Keep.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Saving&quot;,
            &quot;desc&quot;: &quot;Fired when the keep is saving, resolves on complete\n\n```lua\nkeep.Saving:Connect(function(state)\n\tprint(`Saving {keep:Identify()}`)\n\n\tstate:andThen(function()\n\t\tprint(`Saved {keep:Identify()}`)\n\tend):catch(function()\n\t\tprint(`Failed to save {keep:Identify()}`)\n\tend)\nend)\n```&quot;,
            &quot;lua_type&quot;: &quot;Signal&lt;Promise&gt;&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 226,
                &quot;path&quot;: &quot;src/Keep.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Overwritten&quot;,
            &quot;desc&quot;: &quot;Fired when the keep has been overwritten. Keep will be released if ```isReleasingSession``` is true\n\n```lua\nkeep.Overwritten:Connect(function(isReleasingSession)\n\tprint(`{keep:Identify()} has been overwritten. Is releasing session: {isReleasingSession}`)\nend)\n```&quot;,
            &quot;lua_type&quot;: &quot;Signal&lt;boolean&gt;&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 239,
                &quot;path&quot;: &quot;src/Keep.lua&quot;
            }
        }
    ],
    &quot;types&quot;: [
        {
            &quot;name&quot;: &quot;Session&quot;,
            &quot;desc&quot;: &quot;&quot;,
            &quot;lua_type&quot;: &quot;{PlaceID: number, JobID: string}&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 41,
                &quot;path&quot;: &quot;src/Keep.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;MetaData&quot;,
            &quot;desc&quot;: &quot;&quot;,
            &quot;lua_type&quot;: &quot;{ActiveSession: Session?, ForceLoad: Session?, LastUpdate: number, Created: number, LoadCount: number}&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 51,
                &quot;path&quot;: &quot;src/Keep.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;GlobalUpdateData&quot;,
            &quot;desc&quot;: &quot;&quot;,
            &quot;lua_type&quot;: &quot;{ [any]: any }&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 69,
                &quot;path&quot;: &quot;src/Keep.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;GlobalUpdate&quot;,
            &quot;desc&quot;: &quot;&quot;,
            &quot;lua_type&quot;: &quot;{ID: number, Locked: boolean, Data: GlobalUpdateData}&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 76,
                &quot;path&quot;: &quot;src/Keep.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;GlobalUpdates&quot;,
            &quot;desc&quot;: &quot;```ID``` is the most recent update index&quot;,
            &quot;lua_type&quot;: &quot;{ID: number, Updates: { GlobalUpdate }}&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 89,
                &quot;path&quot;: &quot;src/Keep.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Keep&quot;,
            &quot;desc&quot;: &quot;&quot;,
            &quot;lua_type&quot;: &quot;{ Data: {}, MetaData: MetaData, GlobalUpdates: GlobalUpdates, UserIds: {number}, OnGlobalUpdate: Signal&lt;GlobalUpdateData, number&gt;, GlobalStateProcessor: (update: GlobalUpdateData, lock: () -&gt; boolean, remove: () -&gt; boolean) -&gt; (), Releasing: Signal&lt;Promise&gt;, Saving: Signal&lt;Promise&gt;, Overwritten: Signal&lt;boolean&gt; }&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 296,
                &quot;path&quot;: &quot;src/Keep.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Iterator&quot;,
            &quot;desc&quot;: &quot;&quot;,
            &quot;fields&quot;: [
                {
                    &quot;name&quot;: &quot;Current&quot;,
                    &quot;lua_type&quot;: &quot;() -&gt; version?&quot;,
                    &quot;desc&quot;: &quot;Returns the current version, nil if none&quot;
                },
                {
                    &quot;name&quot;: &quot;Next&quot;,
                    &quot;lua_type&quot;: &quot;() -&gt; version?&quot;,
                    &quot;desc&quot;: &quot;Returns the next version, nil if none&quot;
                },
                {
                    &quot;name&quot;: &quot;Previous&quot;,
                    &quot;lua_type&quot;: &quot;() -&gt; version?&quot;,
                    &quot;desc&quot;: &quot;Returns the previous version, nil if none&quot;
                },
                {
                    &quot;name&quot;: &quot;PageUp&quot;,
                    &quot;lua_type&quot;: &quot;() -&gt; ()&quot;,
                    &quot;desc&quot;: &quot;Goes to the next page of versions&quot;
                },
                {
                    &quot;name&quot;: &quot;PageDown&quot;,
                    &quot;lua_type&quot;: &quot;() -&gt; ()&quot;,
                    &quot;desc&quot;: &quot;Goes to the previous page of versions&quot;
                },
                {
                    &quot;name&quot;: &quot;SkipEnd&quot;,
                    &quot;lua_type&quot;: &quot;() -&gt; ()&quot;,
                    &quot;desc&quot;: &quot;Goes to the last page of versions&quot;
                },
                {
                    &quot;name&quot;: &quot;SkipStart&quot;,
                    &quot;lua_type&quot;: &quot;() -&gt; ()&quot;,
                    &quot;desc&quot;: &quot;Goes to the first page of versions&quot;
                }
            ],
            &quot;source&quot;: {
                &quot;line&quot;: 1021,
                &quot;path&quot;: &quot;src/Keep.lua&quot;
            }
        }
    ],
    &quot;name&quot;: &quot;Keep&quot;,
    &quot;desc&quot;: &quot;Keep class holds the data for a specific key in a store, and methods to manipulate data&quot;,
    &quot;realm&quot;: [
        &quot;Server&quot;
    ],
    &quot;source&quot;: {
        &quot;line&quot;: 11,
        &quot;path&quot;: &quot;src/Keep.lua&quot;
    }
}</pre></details></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#types" class="table-of-contents__link toc-highlight">Types</a><ul><li><a href="#GlobalUpdate" class="table-of-contents__link toc-highlight">GlobalUpdate</a></li><li><a href="#GlobalUpdateData" class="table-of-contents__link toc-highlight">GlobalUpdateData</a></li><li><a href="#GlobalUpdates" class="table-of-contents__link toc-highlight">GlobalUpdates</a></li><li><a href="#Iterator" class="table-of-contents__link toc-highlight">Iterator</a></li><li><a href="#Keep" class="table-of-contents__link toc-highlight">Keep</a></li><li><a href="#MetaData" class="table-of-contents__link toc-highlight">MetaData</a></li><li><a href="#Session" class="table-of-contents__link toc-highlight">Session</a></li></ul></li><li><a href="#properties" class="table-of-contents__link toc-highlight">Properties</a><ul><li><a href="#GlobalStateProcessor" class="table-of-contents__link toc-highlight">GlobalStateProcessor</a></li><li><a href="#OnGlobalUpdate" class="table-of-contents__link toc-highlight">OnGlobalUpdate</a></li><li><a href="#Overwritten" class="table-of-contents__link toc-highlight">Overwritten</a></li><li><a href="#Releasing" class="table-of-contents__link toc-highlight">Releasing</a></li><li><a href="#Saving" class="table-of-contents__link toc-highlight">Saving</a></li></ul></li><li><a href="#functions" class="table-of-contents__link toc-highlight">Functions</a><ul><li><a href="#AddUserId" class="table-of-contents__link toc-highlight">:AddUserId</a></li><li><a href="#ClearLockedUpdate" class="table-of-contents__link toc-highlight">:ClearLockedUpdate</a></li><li><a href="#GetActiveGlobalUpdates" class="table-of-contents__link toc-highlight">:GetActiveGlobalUpdates</a></li><li><a href="#GetKeyInfo" class="table-of-contents__link toc-highlight">:GetKeyInfo</a></li><li><a href="#GetLockedGlobalUpdates" class="table-of-contents__link toc-highlight">:GetLockedGlobalUpdates</a></li><li><a href="#GetVersions" class="table-of-contents__link toc-highlight">:GetVersions</a></li><li><a href="#Identify" class="table-of-contents__link toc-highlight">:Identify</a></li><li><a href="#IsActive" class="table-of-contents__link toc-highlight">:IsActive</a></li><li><a href="#Overwrite" class="table-of-contents__link toc-highlight">:Overwrite</a></li><li><a href="#Reconcile" class="table-of-contents__link toc-highlight">:Reconcile</a></li><li><a href="#Release" class="table-of-contents__link toc-highlight">:Release</a></li><li><a href="#RemoveUserId" class="table-of-contents__link toc-highlight">:RemoveUserId</a></li><li><a href="#Save" class="table-of-contents__link toc-highlight">:Save</a></li><li><a href="#SetVersion" class="table-of-contents__link toc-highlight">:SetVersion</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 noahrepublic. Built with Moonwave and Docusaurus.</div></div></div></footer></div>
<script src="/DataKeep/assets/js/runtime~main.e601de97.js"></script>
<script src="/DataKeep/assets/js/main.821d6102.js"></script>
</body>
</html>